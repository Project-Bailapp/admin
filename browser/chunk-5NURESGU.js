import{f as se,g as $,k as U}from"./chunk-26AZBH6W.js";import{$a as d,Aa as y,Bb as de,Db as W,Eb as H,Fa as w,Fb as J,Gb as pe,Lb as D,Ob as M,Pb as l,Qb as ce,Va as k,W as m,Wa as N,X as _,Xa as R,Ya as V,Za as u,_a as r,ab as b,bb as T,cb as C,db as L,eb as g,hb as I,ib as A,jb as p,kb as le,lb as re,pb as F,qa as q,qb as E,rb as h,sa as o,sb as G,tb as c,ub as f,vb as v,wb as S,xb as P,yb as x}from"./chunk-GKZRFQMY.js";var ue=n=>{window.open(`https://www.google.com/maps/search/?api=1&query=${n}`,"_blank")};var ve=(n,i)=>i.id;function ge(n,i){if(n&1){let e=g();T(0,"div",2),A("click",function(){let a=m(e).$implicit,s=p();return _(s.typeClicked.emit(a.id))}),c(1),T(2,"div",3),c(3),C()()}if(n&2){let e=i.$implicit,t=p(),a=t.danceTypeIds().includes(e.id);E("--dance-type-pills__color",a?e.color:"#3a3b40"),h("cursor-pointer",t.editMode()),o(),v(" ",e.type[0]," "),o(2),v(" ",e.type," ")}}var ye={1:"#8f1500",2:"#03b6fc",3:"#40008f",4:"#7a5a01"},z=class n{danceTypeIds=l([]);editMode=l(!1);typeClicked=M();danceTypes=U.danceTypes;eventDanceTypes=D(()=>this.editMode()?Object.keys(this.danceTypes()).map(e=>this.danceTypePillObject(+e)):this.danceTypeIds().map(e=>this.danceTypePillObject(e)));danceTypePillObject(i){let e=this.danceTypes()[i],t=ye[i],a=this.danceTypeIds().includes(i);return{id:i,type:e,color:t,selected:a}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["dance-type-pills"]],hostAttrs:[1,"contents"],inputs:{danceTypeIds:[1,"danceTypeIds"],editMode:[1,"editMode"]},outputs:{typeClicked:"typeClicked"},decls:3,vars:0,consts:[["dance-type-pills","",1,"flex","gap-x-2"],[1,"relative","cursor-default","w-8","h-8","rounded-full","text-center","font-bold","text-xl","bg-(--dance-type-pills__color)","hover:[&>.dance-type-tooltip]:block",3,"--dance-type-pills__color","cursor-pointer"],[1,"relative","cursor-default","w-8","h-8","rounded-full","text-center","font-bold","text-xl","bg-(--dance-type-pills__color)","hover:[&>.dance-type-tooltip]:block",3,"click"],[1,"dance-type-tooltip","hidden","absolute","leading-none","top-6","right-6","p-1.5","rounded-md","ring","bg-(--dance-type-pills__color)"]],template:function(e,t){e&1&&(T(0,"div",0),R(1,ge,4,6,"div",1,ve),C()),e&2&&(o(),V(t.eventDanceTypes()))},encapsulation:2,changeDetection:0})};var fe=(n,i)=>i.id;function xe(n,i){if(n&1){let e=g();T(0,"span",2),A("click",function(){let a=m(e).$implicit,s=p();return _(s.tagClicked.emit(a.id))}),c(1),C()}if(n&2){let e=i.$implicit,t=p();E("--event-type-tags__bg-color",e.selected?"#464646":"none"),h("cursor-pointer",t.editMode()),o(),v(" ",e.type," ")}}var B=class n{eventTypeIds=l([]);editMode=l(!1);tagClicked=M();eventTypes=U.eventTypes;eventEventTypes=D(()=>this.editMode()?Object.keys(this.eventTypes()).map(e=>this.eventTypeObject(+e)):this.eventTypeIds().map(e=>this.eventTypeObject(e)));eventTypeObject(i){let e=this.eventTypes()[i],t=this.eventTypeIds()?.includes(i);return{id:i,type:e,selected:t}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["event-type-tags"]],hostAttrs:[1,"contents"],inputs:{eventTypeIds:[1,"eventTypeIds"],editMode:[1,"editMode"]},outputs:{tagClicked:"tagClicked"},decls:3,vars:0,consts:[["event-type-tags","",1,"flex","gap-x-1"],[1,"bg-(--event-type-tags__bg-color)","px-1","rounded-md",3,"--event-type-tags__bg-color","cursor-pointer"],[1,"bg-(--event-type-tags__bg-color)","px-1","rounded-md",3,"click"]],template:function(e,t){e&1&&(T(0,"div",0),R(1,xe,2,5,"span",1,fe),C()),e&2&&(o(),V(t.eventEventTypes()))},encapsulation:2,changeDetection:0})};var X=class n{id=l();title=l();bannerUrl=l();description=l();price=l();location=l("");danceTypeIds=l([]);eventTypeIds=l([]);eventDate=l();updated=l();event=l();cardTap=M();openGMapsLink=ue;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["event-card"]],hostAttrs:[1,"contents"],inputs:{id:[1,"id"],title:[1,"title"],bannerUrl:[1,"bannerUrl"],description:[1,"description"],price:[1,"price"],location:[1,"location"],danceTypeIds:[1,"danceTypeIds"],eventTypeIds:[1,"eventTypeIds"],eventDate:[1,"eventDate"],updated:[1,"updated"],event:[1,"event"]},outputs:{cardTap:"cardTap"},decls:28,vars:18,consts:[["event-card","",1,"flex","flex-col","shrink-0","cursor-pointer","relative","overflow-hidden","basis-80","max-w-[min(32rem,_95dvw)]","aspect-square","rounded-xl","p-2","bg-[image:var(--bg-url)]","bg-no-repeat","bg-cover","bg-center",3,"click"],[1,"flex","grow-1","flex-col","justify-between","z-1"],[1,"flex","justify-between","flex-nowrap","gap-1"],[1,"text-2xl","font-bold"],[3,"danceTypeIds"],[1,"whitespace-pre-wrap"],[3,"eventTypeIds"],[1,"font-bold","hover:text-blue-400",3,"click"],[1,"flex","justify-between","items-baseline"],[1,"absolute","inset-0","bg-black","opacity-50"]],template:function(e,t){if(e&1){let a=g();r(0,"div",0),I("click",function(){return m(a),_(t.cardTap.emit())}),r(1,"div",1)(2,"div")(3,"div",2)(4,"h1",3),c(5),d(),b(6,"dance-type-pills",4),d(),r(7,"p",5),c(8),d()(),r(9,"div"),b(10,"event-type-tags",6),r(11,"p"),S(12),r(13,"a",7),I("click",function(O){m(a);let j=x(12);return t.openGMapsLink(j),_(O.stopPropagation())}),c(14),d(),c(15),d(),r(16,"p"),c(17),H(18,"date"),d(),r(19,"div",8)(20,"small")(21,"strong"),c(22,"Actualizado: "),d(),c(23),H(24,"date"),d(),r(25,"p"),c(26),d()()()(),b(27,"div",9),d()}if(e&2){let a,s,O,j,Z,ee,te,ne,ie,ae;E("--bg-url",`url(${((a=t.event())==null?null:a.bannerUrl)||t.bannerUrl()}), url(https://i.imgur.com/wDi0xHn.jpeg)`),o(5),f(((s=t.event())==null?null:s.title)||t.title()),o(),u("danceTypeIds",((O=t.event())==null?null:O.danceTypeIds)||t.danceTypeIds()),o(2),f(((j=t.event())==null?null:j.description)||t.description()),o(2),u("eventTypeIds",((Z=t.event())==null?null:Z.eventTypeIds)||t.eventTypeIds()),o(2);let _e=P(((ee=t.event())==null?null:ee.location)||t.location());o(2),v(" ",_e," ");let oe=((te=t.event())==null?null:te.price)||t.price();o(),v(" - ",oe?`\u20AC${oe}`:"Gratis"," "),o(2),f(J(18,12,((ne=t.event())==null?null:ne.eventDate)||t.eventDate(),"dd-MMM-yyyy @ hh:mm")),o(6),v(" ",J(24,15,((ie=t.event())==null?null:ie.updated)||t.updated(),"dd-MMM-yyyy @ hh:mm")),o(3),v("[id: ",((ae=t.event())==null?null:ae.id)||t.id(),"]")}},dependencies:[z,B,$],encapsulation:2,changeDetection:0})};var Te=["*"],me=(n,i)=>({$implicit:n,pref:i}),be=()=>({$implicit:"datetime-local"});function Ce(n,i){n&1&&(r(0,"label",2),c(1),d()),n&2&&(o(),f(i))}function Ie(n,i){if(n&1&&(r(0,"span",4),c(1),d()),n&2){p();let e=x(0);o(),f(e)}}function Ee(n,i){if(n&1){let e=g();r(0,"textarea",7),I("change",function(a){m(e);let s=p(2);return _(s.onTextWrite(a))}),c(1,"        "),d()}if(n&2){let e=p(2),t=x(0);G(t),u("value",e.value())}}function he(n,i){n&1&&L(0)}function De(n,i){if(n&1&&(r(0,"div",6),w(1,he,1,0,"ng-container",8),r(2,"a",9),b(3,"img",10),d()()),n&2){p();let e=x(0),t=p(),a=F(7);o(),u("ngTemplateOutlet",a)("ngTemplateOutletContext",W(4,me,t.type(),e)),o(),u("href",t.value(),q),o(),u("src",t.value(),q)}}function Me(n,i){n&1&&L(0)}function we(n,i){if(n&1&&w(0,Me,1,0,"ng-container",8),n&2){p(2);let e=F(7);u("ngTemplateOutlet",e)("ngTemplateOutletContext",de(2,be))}}function ke(n,i){n&1&&L(0)}function Ne(n,i){if(n&1&&w(0,ke,1,0,"ng-container",8),n&2){p();let e=x(0),t=p(),a=F(7);u("ngTemplateOutlet",a)("ngTemplateOutletContext",W(2,me,t.type(),e))}}function Se(n,i){if(n&1&&(S(0),k(1,Ie,2,1,"span",4),k(2,Ee,2,3,"textarea",5)(3,De,4,7,"div",6)(4,we,1,3,"ng-container")(5,Ne,1,5,"ng-container")),n&2){let e,t=p(),a=P(t.prefix());o(),N(a?1:-1),o(),N((e=t.type())==="textarea"?2:e==="img"?3:e==="datetime"?4:5)}}function Pe(n,i){if(n&1&&(r(0,"p",11),c(1),d()),n&2){let e=p(2);o(),f(e.displayValue())}}function Oe(n,i){n&1&&re(0,0,null,Pe,2,1)}function je(n,i){if(n&1){let e=g();r(0,"input",12),I("change",function(a){m(e);let s=p();return _(s.onTextWrite(a))}),d()}if(n&2){let e=i.$implicit,t=i.pref,a=p(),s=x(0);G(s),h("border-l-1",!t)("rounded-bl-md",!t),u("type",e)("value",a.value())}}var Y=class n{label=l("");editMode=l(!1);type=l("text");prefix=l("");value=ce.required();displayValue=D(()=>{let i=this.value(),e=this.prefix(),t=this.type();return i?t==="datetime"?new $("en-US").transform(i,"dd-MMM-yyyy @ hh:mm"):(e&&(i=e+i),i):""});onTextWrite(i){let{value:e}=i.target;this.type()==="datetime"&&(e+=":00"),this.value.set(e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["read-edit-input"]],hostAttrs:[1,"contents"],inputs:{label:[1,"label"],editMode:[1,"editMode"],type:[1,"type"],prefix:[1,"prefix"],value:[1,"value"]},outputs:{value:"valueChange"},ngContentSelectors:Te,decls:8,vars:3,consts:[["defaultInput",""],["read-edit-input","",1,"flex","flex-col","gap-1","px-1","min-w-(--read-edit-input__min-w,_0)"],[1,"font-bold"],[1,"flex","[&>:not([prefix])]:grow-1"],["prefix","",1,"bg-gray-600","rounded-tl-md","rounded-bl-md","px-2"],["rows","3",1,"rounded-bl-md","resize-none","field-sizing-content",3,"class","value"],[1,"flex","flex-col"],["rows","3",1,"rounded-bl-md","resize-none","field-sizing-content",3,"change","value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank",3,"href"],["alt"," ",1,"max-w-[min(20rem,","50dvh)]","rounded-md","bg-[image:url(https://i.imgur.com/wDi0xHn.jpeg)]","aspect-[auto_1/1]","bg-center","bg-cover",3,"src"],[1,"whitespace-pre-wrap"],[3,"change","type","value"]],template:function(e,t){if(e&1&&(le(),S(0),r(1,"div",1),k(2,Ce,2,1,"label",2),r(3,"div",3),k(4,Se,6,3)(5,Oe,2,0),d()(),w(6,je,1,8,"ng-template",null,0,pe)),e&2){let a;P("px-2 py-0.5 outline-none border-b-1 border-l-1 border-gray-400"),o(2),N((a=t.editMode()&&t.label())?2:-1,a),o(2),N(t.editMode()?4:5)}},dependencies:[se],encapsulation:2,changeDetection:0})};export{ue as a,z as b,B as c,X as d,Y as e};
