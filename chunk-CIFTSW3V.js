import{a as Q}from"./chunk-R3PIJHPI.js";import{$a as I,$b as P,Aa as y,Bb as A,Cb as V,Hb as k,Lb as f,Mb as d,W as m,Wa as E,X as u,Xa as x,Xb as K,Ya as j,Za as r,_a as l,ab as v,bb as g,db as T,eb as O,fb as M,gb as _,nb as b,ob as w,qb as a,rb as C,sa as o,sb as s,tb as H,ub as R,vb as J}from"./chunk-6UE5M2JL.js";var W=i=>{window.open(`https://www.google.com/maps/search/?api=1&query=${i}`,"_blank")};var ee=(i,n)=>n.id;function te(i,n){if(i&1){let e=T();v(0,"div",2),M("click",function(){let p=m(e).$implicit,c=_();return u(c.typeClicked.emit(p.id))}),a(1),v(2,"div",3),a(3),g()()}if(i&2){let e=n.$implicit,t=_(),p=t.danceTypeIds().includes(e.id);b("--dance-type-pills__color",p?e.color:"#3a3b40"),w("cursor-pointer",t.editMode()),o(),s(" ",e.type[0]," "),o(2),s(" ",e.type," ")}}var N=class i{danceTypeIds=d([]);editMode=d(!1);typeClicked=f();danceTypes=P.danceTypes;eventDanceTypes=k(()=>this.editMode()?Object.keys(this.danceTypes()).map(e=>this.danceTypePillObject(+e)):this.danceTypeIds().map(e=>this.danceTypePillObject(e)));danceTypePillObject(n){let e=this.danceTypes()[n],t=Q[n],p=this.danceTypeIds().includes(n);return{id:n,type:e,color:t,selected:p}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["dance-type-pills"]],hostAttrs:[1,"contents"],inputs:{danceTypeIds:[1,"danceTypeIds"],editMode:[1,"editMode"]},outputs:{typeClicked:"typeClicked"},decls:3,vars:0,consts:[["dance-type-pills","",1,"flex","gap-x-2","flex-wrap"],[1,"relative","cursor-default","w-6","h-6","rounded-full","text-center","font-bold","bg-(--dance-type-pills__color)","hover:[&>.dance-type-tooltip]:block",3,"--dance-type-pills__color","cursor-pointer"],[1,"relative","cursor-default","w-6","h-6","rounded-full","text-center","font-bold","bg-(--dance-type-pills__color)","hover:[&>.dance-type-tooltip]:block",3,"click"],[1,"dance-type-tooltip","hidden","absolute","leading-none","top-6","right-6","p-1.5","rounded-md","ring","bg-(--dance-type-pills__color)"]],template:function(e,t){e&1&&(v(0,"div",0),E(1,te,4,6,"div",1,ee),g()),e&2&&(o(),x(t.eventDanceTypes()))},encapsulation:2,changeDetection:0})};var ne=(i,n)=>n.id;function ie(i,n){if(i&1){let e=T();v(0,"span",2),M("click",function(){let p=m(e).$implicit,c=_();return u(c.tagClicked.emit(p.id))}),a(1),g()}if(i&2){let e=n.$implicit,t=_();b("--event-type-tags__bg-color",e.selected?"#464646":"none"),w("cursor-pointer",t.editMode()),o(),s(" ",e.type," ")}}var S=class i{eventTypeIds=d([]);editMode=d(!1);tagClicked=f();eventTypes=P.eventTypes;eventEventTypes=k(()=>this.editMode()?Object.keys(this.eventTypes()).map(e=>this.eventTypeObject(+e)):this.eventTypeIds().map(e=>this.eventTypeObject(e)));eventTypeObject(n){let e=this.eventTypes()[n],t=this.eventTypeIds()?.includes(n);return{id:n,type:e,selected:t}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["event-type-tags"]],hostAttrs:[1,"contents"],inputs:{eventTypeIds:[1,"eventTypeIds"],editMode:[1,"editMode"]},outputs:{tagClicked:"tagClicked"},decls:3,vars:0,consts:[["event-type-tags","",1,"flex","gap-x-1"],[1,"bg-(--event-type-tags__bg-color)","px-1","rounded-md",3,"--event-type-tags__bg-color","cursor-pointer"],[1,"bg-(--event-type-tags__bg-color)","px-1","rounded-md",3,"click"]],template:function(e,t){e&1&&(v(0,"div",0),E(1,ie,2,5,"span",1,ne),g()),e&2&&(o(),x(t.eventEventTypes()))},encapsulation:2,changeDetection:0})};var L=class i{id=d();title=d();bannerUrl=d();description=d();price=d();location=d("");danceTypeIds=d([]);eventTypeIds=d([]);eventDate=d();updated=d();event=d();cardTap=f();openGMapsLink=W;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["event-card"]],hostAttrs:[1,"contents"],inputs:{id:[1,"id"],title:[1,"title"],bannerUrl:[1,"bannerUrl"],description:[1,"description"],price:[1,"price"],location:[1,"location"],danceTypeIds:[1,"danceTypeIds"],eventTypeIds:[1,"eventTypeIds"],eventDate:[1,"eventDate"],updated:[1,"updated"],event:[1,"event"]},outputs:{cardTap:"cardTap"},decls:28,vars:18,consts:[["event-card","",1,"flex","flex-col","shrink-0","cursor-pointer","relative","overflow-hidden","basis-80","max-w-[min(32rem,_95dvw)]","aspect-square","rounded-xl","p-2","bg-(image:--bg-url)","bg-no-repeat","bg-cover","bg-center",3,"click"],[1,"flex","grow-1","flex-col","justify-between","z-1"],[1,"flex","justify-between","flex-nowrap","gap-1"],[1,"text-2xl","font-bold"],[1,"*:max-w-25","*:justify-end",3,"danceTypeIds"],[1,"whitespace-pre-wrap"],[3,"eventTypeIds"],[1,"font-bold","hover:text-blue-400",3,"click"],[1,"flex","justify-between","items-baseline"],[1,"absolute","inset-0","bg-black","opacity-50"]],template:function(e,t){if(e&1){let p=T();r(0,"div",0),O("click",function(){return m(p),u(t.cardTap.emit())}),r(1,"div",1)(2,"div")(3,"div",2)(4,"h1",3),a(5),l(),I(6,"dance-type-pills",4),l(),r(7,"p",5),a(8),l()(),r(9,"div"),I(10,"event-type-tags",6),r(11,"p"),H(12),r(13,"a",7),O("click",function(D){m(p);let h=J(12);return t.openGMapsLink(h),u(D.stopPropagation())}),a(14),l(),a(15),l(),r(16,"p"),a(17),A(18,"date"),l(),r(19,"div",8)(20,"small")(21,"strong"),a(22,"Actualizado: "),l(),a(23),A(24,"date"),l(),r(25,"p"),a(26),l()()()(),I(27,"div",9),l()}if(e&2){let p,c,D,h,$,F,U,B,G,q;b("--bg-url",`url(${((p=t.event())==null?null:p.bannerUrl)||t.bannerUrl()}), url(https://i.imgur.com/wDi0xHn.jpeg)`),o(5),C(((c=t.event())==null?null:c.title)||t.title()),o(),j("danceTypeIds",((D=t.event())==null?null:D.danceTypeIds)||t.danceTypeIds()),o(2),C(((h=t.event())==null?null:h.description)||t.description()),o(2),j("eventTypeIds",(($=t.event())==null?null:$.eventTypeIds)||t.eventTypeIds()),o(2);let Z=R(((F=t.event())==null?null:F.location)||t.location());o(2),s(" ",Z," ");let z=((U=t.event())==null?null:U.price)||t.price();o(),s(" - ",z?`\u20AC${z}`:"Gratis"," "),o(2),C(V(18,12,((B=t.event())==null?null:B.eventDate)||t.eventDate(),"dd-MMM-yyyy @ hh:mm")),o(6),s(" ",V(24,15,((G=t.event())==null?null:G.updated)||t.updated(),"dd-MMM-yyyy @ hh:mm")),o(3),s("[id: ",((q=t.event())==null?null:q.id)||t.id(),"]")}},dependencies:[N,S,K],encapsulation:2,changeDetection:0})};export{W as a,N as b,S as c,L as d};
